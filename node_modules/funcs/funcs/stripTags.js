;(function() {
    "use strict";
    
    f.htmlCodes = [
		{"name":"&nbsp;","code":"&#160;","value":" "},
		{"name":"&pound;","code":"&#163;","value":"£"},
		{"name":"&euro;","code":"&#8364;","value":"€"},
		{"name":"&para;","code":"&#182;","value":"¶"},
		{"name":"&sect;","code":"&#167;","value":"§"},
		{"name":"&copy;","code":"&#169;","value":"©"},
		{"name":"&reg;","code":"&#174;","value":"®"},
		{"name":"&trade;","code":"&#8482;","value":"™"},
		{"name":"&deg;","code":"&#176;","value":"°"},
		{"name":"&plusmn;","code":"&#177;","value":"±"},
		{"name":"&frac14;","code":"&#188;","value":"¼"},
		{"name":"&frac12;","code":"&#189;","value":"½"},
		{"name":"&frac34;","code":"&#190;","value":"¾"},
		{"name":"&times;","code":"&#215;","value":"×"},
		{"name":"&divide;","code":"&#247;","value":"÷"},
		{"name":"&fnof;","code":"&#402;","value":"ƒ"},
		{"name":"&Alpha;","code":"&#913;","value":"Α"},
		{"name":"&Beta;","code":"&#914;","value":"Β"},
		{"name":"&Gamma;","code":"&#915;","value":"Γ"},
		{"name":"&Delta;","code":"&#916;","value":"Δ"},
		{"name":"&Epsilon;","code":"&#917;","value":"Ε"},
		{"name":"&Zeta;","code":"&#918;","value":"Ζ"},
		{"name":"&Eta;","code":"&#919;","value":"Η"},
		{"name":"&Theta;","code":"&#920;","value":"Θ"},
		{"name":"&Iota;","code":"&#921;","value":"Ι"},
		{"name":"&Kappa;","code":"&#922;","value":"Κ"},
		{"name":"&Lambda;","code":"&#923;","value":"Λ"},
		{"name":"&Mu;","code":"&#924;","value":"Μ"},
		{"name":"&Nu;","code":"&#925;","value":"Ν"},
		{"name":"&Xi;","code":"&#926;","value":"Ξ"},
		{"name":"&Omicron;","code":"&#927;","value":"Ο"},
		{"name":"&Pi;","code":"&#928;","value":"Π"},
		{"name":"&Rho;","code":"&#929;","value":"Ρ"},
		{"name":"&Sigma;","code":"&#931;","value":"Σ"},
		{"name":"&Tau;","code":"&#932;","value":"Τ"},
		{"name":"&Upsilon;","code":"&#933;","value":"Υ"},
		{"name":"&Phi;","code":"&#934;","value":"Φ"},
		{"name":"&Chi;","code":"&#935;","value":"Χ"},
		{"name":"&Psi;","code":"&#936;","value":"Ψ"},
		{"name":"&Omega;","code":"&#937;","value":"Ω"},
		{"name":"&alpha;","code":"&#945;","value":"α"},
		{"name":"&beta;","code":"&#946;","value":"β"},
		{"name":"&gamma;","code":"&#947;","value":"γ"},
		{"name":"&delta;","code":"&#948;","value":"δ"},
		{"name":"&epsilon;","code":"&#949;","value":"ε"},
		{"name":"&zeta;","code":"&#950;","value":"ζ"},
		{"name":"&eta;","code":"&#951;","value":"η"},
		{"name":"&theta;","code":"&#952;","value":"θ"},
		{"name":"&iota;","code":"&#953;","value":"ι"},
		{"name":"&kappa;","code":"&#954;","value":"κ"},
		{"name":"&lambda;","code":"&#955;","value":"λ"},
		{"name":"&mu;","code":"&#956;","value":"μ"},
		{"name":"&nu;","code":"&#957;","value":"ν"},
		{"name":"&xi;","code":"&#958;","value":"ξ"},
		{"name":"&omicron;","code":"&#959;","value":"ο"},
		{"name":"&pi;","code":"&#960;","value":"π"},
		{"name":"&rho;","code":"&#961;","value":"ρ"},
		{"name":"&sigmaf;","code":"&#962;","value":"ς"},
		{"name":"&sigma;","code":"&#963;","value":"σ"},
		{"name":"&tau;","code":"&#964;","value":"τ"},
		{"name":"&upsilon;","code":"&#965;","value":"υ"},
		{"name":"&phi;","code":"&#966;","value":"φ"},
		{"name":"&chi;","code":"&#967;","value":"χ"},
		{"name":"&psi;","code":"&#968;","value":"ψ"},
		{"name":"&omega;","code":"&#969;","value":"ω"},
		{"name":"&larr;","code":"&#8592;","value":"←"},
		{"name":"&uarr;","code":"&#8593;","value":"↑"},
		{"name":"&rarr;","code":"&#8594;","value":"→"},
		{"name":"&darr;","code":"&#8595;","value":"↓"},
		{"name":"&harr;","code":"&#8596;","value":"↔"},
		{"name":"&spades;","code":"&#9824;","value":"♠"},
		{"name":"&clubs;","code":"&#9827;","value":"♣"},
		{"name":"&hearts;","code":"&#9829;","value":"♥"},
		{"name":"&diams;","code":"&#9830;","value":"♦"},
		{"name":"&quot;","code":"&#34;","value":"\""},
		{"name":"&amp;","code":"&#38;","value":"&"},
		{"name":"&lt;","code":"&#60;","value":"<"},
		{"name":"&gt;","code":"&#62;","value":">"},
		{"name":"&hellip;","code":"&#8230;","value":"…"},
		{"name":"&prime;","code":"&#8242;","value":"′"},
		{"name":"&Prime;","code":"&#8243;","value":"″"},
		{"name":"&ndash;","code":"&#8211;","value":"–"},
		{"name":"&mdash;","code":"&#8212;","value":"—"},
		{"name":"&lsquo;","code":"&#8216;","value":"‘"},
		{"name":"&rsquo;","code":"&#8217;","value":"’"},
		{"name":"&sbquo;","code":"&#8218;","value":"‚"},
		{"name":"&ldquo;","code":"&#8220;","value":"“"},
		{"name":"&rdquo;","code":"&#8221;","value":"”"},
		{"name":"&bdquo;","code":"&#8222;","value":"„"},
		{"name":"&laquo;","code":"&#171;","value":"«"},
		{"name":"&raquo;","code":"&#187;","value":"»"}
	];

	f.htmlCodesByCode = {};
	f.htmlCodesByName = {};

	for (var i=0, n=f.htmlCodes.length; i<n; i++) {
		f.htmlCodesByCode[f.htmlCodes[i].code] = f.htmlCodes[i];
		f.htmlCodesByName[f.htmlCodes[i].name] = f.htmlCodes[i];
	}

	f.getHtmlCodeValue = function(code) {
		return f.htmlCodesByName[code] || f.htmlCodesByCode[code];
	};

	f.stripTags = function(html) {
		if ( !f.isString(html) ) {
			return "";
		}

		return html
				.replace(/<br[^>]*>/gi, "\n")
				.replace(/<[^>]*>/g, "")
				.replace(/&#?\w+;/g, function(code) {
					code = f.getHtmlCodeValue(code);
					if ( code ) {
						return code.value;
					} else {
						return arguments[0];
					}
				})
		;
	};

})();
