;(function() {
    "use strict";
    
    // глубокое клонирование объекта,
    // !!! объекты созданые конструктором, передаются по ссылке
	f.deepClone = function(obj) {

		function cloneValue(value) {
			var out = value,
					arr;

			if ( f.isEasyObject(value) ) {
				out = f.deepClone(value);
			} else
			if ( f.isArray(value) ) {
				arr = [];
				for (var i=0, n=value.length; i<n; i++) {
					arr[i] = cloneValue(value[i]);
				}
				out = arr;
			}

			return out;
		}

		var clone, value;
		if ( f.isObject(obj) ) {
			clone = {};
			for (var key in obj) {
				clone[key] = cloneValue( obj[key] );
			}
		} else {
			clone = cloneValue(obj);
		}

		return clone;
	};

})();
