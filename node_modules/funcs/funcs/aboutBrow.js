;(function() {
    "use strict";

    // собираем информацию о браузере
    f.aboutBrow = function() {
        var brow = navigator.vendor === '' && typeof navigator.vendor === 'string' ? 'Firefox' : ( navigator.vendor ? navigator.vendor.split(' ')[0] : 'Internet Explorer' );
		var platform = navigator.platform;
		var screenW = screen.availWidth;
		var screenH = screen.availHeight;
		var vers = navigator.appVersion.toLowerCase();
		var fullData = '';

		if ( brow == "Google" && f.isObject(window.opr) ) {
			brow = "Opera";
		}

		if ( f.isFunction(window.msClearImmediate) ) {
			brow = "Internet Explorer";
			vers = "11.0";
		} else {
			try{
				vers = ({
					'opera' :function(){ return vers.split('opr/')[1]; },
					'firefox' :function(){ return vers.split(' ')[0]; },
					'internet explorer' :function(){ return vers.split('msie ')[1].split(';')[0]; },
					'apple' :function(){ return vers.split('version/')[1]; },
					'google' :function(){ return vers.split('chrome/')[1].split(' ')[0]; }
				})[brow.toLowerCase()]();
			} catch( e ) {
				brow = 'unknown';
				vers = 'unknow';
				fullData = '\n\r' + navigator.vendor + '; ' + navigator.platform + ';' + navigator.appVersion;
			}
		}


		var isIphone = platform.toLowerCase().indexOf('iphone') != -1 || navigator.userAgent.indexOf("iPhone") != -1,
			isPad = platform.toLowerCase().indexOf('iphone') != -1 || navigator.userAgent.indexOf("iPad") != -1,
			isArm = platform.toLowerCase().indexOf('arm') != -1 || navigator.userAgent.indexOf("Android") != -1,
			isMobile = isIphone || isPad || isArm
		;
		return {
			brow: brow,
			platform: platform,
			screenW: screenW,
			screenH: screenH,
			isIphone: isIphone,
			isPad: isPad,
			isArm: isArm,
			isMobile: isMobile,
			vers: vers,
			toString : function(){
				return "Browser: " + brow + ', Version: ' + vers + ', Platform: ' + platform + ', Screen: ' + screenW + ' X ' + screenH + fullData;
			}
		};
	};

})();
